import{_ as D,E as R,n as ee}from"#entry";import{l as P,d as p,F as A,o as te,at as u,W as V,N as g,X as t,a2 as e,O as o,Q as T,M as B,u as oe,z as ae,R as le,q as se,m as c,a4 as ie,ay as ne,Y as re,$ as _,a0 as h,a1 as ue,af as ce}from"./CNHhKriD.js";import{_ as de,u as me}from"./CAK6LHbS.js";import"./Ck70_2Af.js";const pe={key:1,class:"chart-skeleton"},ve=P({__name:"ChartCard",props:{option:{},shadow:{default:"never"},rootMargin:{default:"100px"},height:{default:"320px"}},setup(f){const E=f,l=p(null),v=p(!1);let d=null,i=0;return A(()=>{"IntersectionObserver"in window?(d=new IntersectionObserver(x=>{i&&cancelAnimationFrame(i),i=requestAnimationFrame(()=>{x.forEach(C=>{C.isIntersecting&&(v.value=!0,d?.disconnect())})})},{root:null,rootMargin:E.rootMargin,threshold:.01}),l.value&&d.observe(l.value)):v.value=!0}),te(()=>{d&&l.value&&d.unobserve(l.value),d=null,i&&cancelAnimationFrame(i)}),(x,C)=>{const F=u("el-skeleton"),I=de,z=u("el-card");return g(),V(z,{shadow:f.shadow,class:le(["chart-card",{"is-loading":!v.value}]),style:T({height:f.height})},{default:t(()=>[e(I,null,{default:t(()=>[o("div",{ref_key:"holder",ref:l,class:"chart-holder",style:T({height:f.height})},[v.value?(g(),V(oe(ae),{key:0,class:"chart",option:f.option,autoresize:""},null,8,["option"])):(g(),B("div",pe,[e(F,{rows:4,animated:""})]))],4)]),_:1})]),_:1},8,["shadow","class","style"])}}}),y=Object.assign(D(ve,[["__scopeId","data-v-d3b73a22"]]),{__name:"ChartCard"}),fe={class:"header"},_e={class:"header-actions"},he={class:"grid"},ye={class:"grid-row"},ge={class:"stat"},xe={class:"label"},be={class:"trend"},Se={class:"grid-row"},we={class:"grid-row"},Ae={class:"grid-row"},Ce={class:"grid-row"},Le={class:"grid-row"},ke={class:"table-header"},U="dashboard_theme",Ee=P({__name:"home",setup(f){const E=async()=>{const{error:s}=await me("/api/auth/logout",{method:"POST",server:!1},"$5viT2XL0Z0");if(s.value){R.error("退出失败，请重试");return}R.success("已退出登录"),ee("/login")},l=p(!1),v=s=>{typeof document<"u"&&document.documentElement.setAttribute("data-theme",s?"dark":"light")};A(()=>{const s=localStorage.getItem(U);l.value=s?s==="dark":!1,v(l.value)}),se(l,s=>{localStorage.setItem(U,s?"dark":"light"),v(s)}),c(()=>l.value?"暗色":"明亮");const d=p(!0);A(()=>{setTimeout(()=>d.value=!1,250)});const i=p(null),x=p(!1),C=async()=>{const s=i.value;s&&!document.fullscreenElement&&await s.requestFullscreen()},F=async()=>{document.fullscreenElement&&await document.exitFullscreen()},I=async()=>{document.fullscreenElement?await F():await C()};A(()=>{document.addEventListener("fullscreenchange",()=>{x.value=!!document.fullscreenElement})});const z=p([{title:"访问量",value:12890,trend:"+12.3%",color:"#4C6EF5"},{title:"注册用户",value:5230,trend:"+3.1%",color:"#20C997"},{title:"订单数",value:1876,trend:"-1.2%",color:"#FAB005"},{title:"转化率",value:"3.85%",trend:"+0.4%",color:"#FA5252"}]),a=c(()=>l.value?"#cfd3dc":"#606266"),m=c(()=>l.value?"#e5eaf3":"#303133"),L=c(()=>l.value?"#2B2F36":"#EBEEF5"),N=c(()=>({title:{text:"近七日访问趋势",left:"center",top:8,textStyle:{fontSize:14,color:m.value}},tooltip:{trigger:"axis"},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{},magicType:{type:["line","bar"]}}},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:40,right:20,top:50,bottom:30},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"],axisLine:{lineStyle:{color:a.value}},axisLabel:{color:a.value}},yAxis:{type:"value",splitLine:{lineStyle:{color:L.value}},axisLabel:{color:a.value}},series:[{name:"访问量",type:"line",smooth:!0,data:[1200,980,1500,1100,1660,1820,2010],areaStyle:{},itemStyle:{color:"#4C6EF5"}}]})),W=c(()=>({title:{text:"渠道占比",left:"center",top:8,textStyle:{fontSize:14,color:m.value}},tooltip:{trigger:"item"},legend:{bottom:0,textStyle:{color:a.value}},series:[{name:"占比",type:"pie",radius:["40%","70%"],center:["50%","48%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:6,borderColor:"#fff",borderWidth:2},label:{color:m.value},data:[{value:48,name:"官网"},{value:22,name:"小程序"},{value:18,name:"App"},{value:12,name:"第三方"}]}]})),$=c(()=>({title:{text:"品类销量",left:"center",top:8,textStyle:{fontSize:14,color:m.value}},tooltip:{trigger:"axis"},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{},magicType:{type:["line","bar"]}}},brush:{toolbox:["rect","clear"],xAxisIndex:"all"},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:40,right:20,top:50,bottom:30},xAxis:{type:"category",data:["家电","数码","美妆","服饰","食品","母婴"],axisLine:{lineStyle:{color:a.value}},axisLabel:{color:a.value}},yAxis:{type:"value",splitLine:{lineStyle:{color:L.value}},axisLabel:{color:a.value}},series:[{name:"销量",type:"bar",barWidth:18,data:[620,732,701,534,690,830],itemStyle:{color:"#20C997"}}]})),q=c(()=>({title:{text:"UV / PV 趋势（双轴）",left:"center",top:8,textStyle:{fontSize:14,color:m.value}},tooltip:{trigger:"axis"},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{}}},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:50,right:50,top:50,bottom:30},legend:{top:28,textStyle:{color:a.value}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:a.value}},axisLabel:{color:a.value}},yAxis:[{type:"value",name:"UV",position:"left",axisLabel:{color:a.value},splitLine:{lineStyle:{color:L.value}}},{type:"value",name:"PV",position:"right",axisLabel:{color:a.value}}],series:[{name:"UV",type:"line",smooth:!0,yAxisIndex:0,itemStyle:{color:"#36cfc9"},data:[320,402,391,434,590,630,710]},{name:"PV",type:"line",smooth:!0,yAxisIndex:1,itemStyle:{color:"#9254de"},data:[820,932,901,934,1290,1330,1520]}]})),K=c(()=>({title:{text:"渠道流量构成（堆叠）",left:"center",top:8,textStyle:{fontSize:14,color:m.value}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:28,textStyle:{color:a.value}},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{}}},brush:{toolbox:["rect","clear"],xAxisIndex:"all"},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:50,right:20,top:60,bottom:30},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月"],axisLine:{lineStyle:{color:a.value}},axisLabel:{color:a.value}},yAxis:{type:"value",splitLine:{lineStyle:{color:L.value}},axisLabel:{color:a.value}},series:[{name:"官网",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#409EFF"},data:[320,302,301,334,390,330]},{name:"App",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#67C23A"},data:[120,132,101,134,90,230]},{name:"小程序",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#E6A23C"},data:[220,182,191,234,290,330]},{name:"第三方",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#F56C6C"},data:[150,212,201,154,190,120]}]})),X=c(()=>({title:{text:"转化漏斗",left:"center",top:8,textStyle:{fontSize:14,color:m.value}},tooltip:{trigger:"item",formatter:"{b}: {c}%"},series:[{name:"转化",type:"funnel",left:"10%",width:"80%",label:{color:m.value},data:[{value:100,name:"曝光"},{value:72,name:"访问"},{value:38,name:"加购"},{value:22,name:"下单"},{value:15,name:"支付"}]}]})),Z=p(0);let b=null;return A(()=>{if("ResizeObserver"in window&&i.value)b=new ResizeObserver(()=>{Z.value++}),b.observe(i.value);else{const s=()=>{Z.value++};window.addEventListener("resize",s)}}),ie(()=>{b&&i.value&&b.unobserve(i.value),b=null}),(s,n)=>{const Y=u("el-switch"),k=u("el-button"),j=u("el-divider"),M=u("el-card"),S=u("el-col"),O=u("el-row"),w=u("el-table-column"),G=u("el-tag"),H=u("el-table"),Q=ne("loading");return re((g(),B("div",{class:"dashboard",ref_key:"containerRef",ref:i},[o("div",fe,[n[3]||(n[3]=o("div",{class:"title"},[o("h2",null,"运营驾驶舱"),o("p",null,"核心业务指标总览 · 实时洞察")],-1)),o("div",_e,[e(Y,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=r=>l.value=r),"inline-prompt":"","active-text":"暗色","inactive-text":"明亮"},null,8,["modelValue"]),e(k,{onClick:I},{default:t(()=>[_(h(x.value?"退出全屏":"全屏展示"),1)]),_:1}),e(j,{direction:"vertical"}),e(k,{onClick:E},{default:t(()=>[...n[1]||(n[1]=[_("退出登录",-1)])]),_:1}),e(k,{type:"primary"},{default:t(()=>[...n[2]||(n[2]=[_("刷新数据",-1)])]),_:1})])]),o("div",he,[o("div",ye,[e(O,{gutter:12},{default:t(()=>[(g(!0),B(ue,null,ce(z.value,(r,J)=>(g(),V(S,{xs:12,sm:12,md:6,key:J},{default:t(()=>[e(M,{shadow:"hover",class:"stat-card"},{default:t(()=>[o("div",ge,[o("div",xe,h(r.title),1),o("div",{class:"value",style:T({color:r.color})},h(r.value),5),o("div",be,h(r.trend),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",Se,[e(O,{gutter:12},{default:t(()=>[e(S,{xs:24,md:16},{default:t(()=>[e(y,{option:N.value,height:"320px"},null,8,["option"])]),_:1}),e(S,{xs:24,md:8},{default:t(()=>[e(y,{option:W.value,height:"320px"},null,8,["option"])]),_:1})]),_:1})]),o("div",we,[e(y,{option:q.value,height:"340px"},null,8,["option"])]),o("div",Ae,[e(y,{option:X.value,height:"340px"},null,8,["option"])]),o("div",Ce,[e(O,{gutter:12},{default:t(()=>[e(S,{xs:24,md:14},{default:t(()=>[e(y,{option:K.value,height:"340px"},null,8,["option"])]),_:1}),e(S,{xs:24,md:10},{default:t(()=>[e(y,{option:$.value,height:"340px"},null,8,["option"])]),_:1})]),_:1})]),o("div",Le,[e(M,{shadow:"never"},{header:t(()=>[o("div",ke,[n[5]||(n[5]=o("span",null,"最新订单",-1)),e(k,{link:"",type:"primary"},{default:t(()=>[...n[4]||(n[4]=[_("查看全部",-1)])]),_:1})])]),default:t(()=>[e(H,{size:"small",border:"",data:[{id:"A20251016001",user:"Alice",amount:1299,status:"已支付",time:"09:12"},{id:"A20251016002",user:"Bob",amount:289,status:"已发货",time:"09:18"},{id:"A20251016003",user:"Cindy",amount:569,status:"待支付",time:"09:22"},{id:"A20251016004",user:"David",amount:78,status:"已完成",time:"09:31"},{id:"A20251016005",user:"Eve",amount:2199,status:"已完成",time:"09:34"}]},{default:t(()=>[e(w,{prop:"id",label:"订单号","min-width":"160"}),e(w,{prop:"user",label:"用户","min-width":"100"}),e(w,{prop:"amount",label:"金额","min-width":"80"},{default:t(({row:r})=>[_("¥ "+h(r.amount),1)]),_:1}),e(w,{prop:"status",label:"状态","min-width":"90"},{default:t(({row:r})=>[e(G,{type:r.status.includes("待")?"warning":r.status.includes("发")?"info":"success"},{default:t(()=>[_(h(r.status),1)]),_:2},1032,["type"])]),_:1}),e(w,{prop:"time",label:"时间","min-width":"80"})]),_:1})]),_:1})])])])),[[Q,d.value]])}}}),Ve=D(Ee,[["__scopeId","data-v-94e61e2b"]]);export{Ve as default};
