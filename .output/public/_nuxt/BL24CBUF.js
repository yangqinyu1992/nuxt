import{z as G,A as Q,B as Z,_ as ee}from"#entry";import{l as te,d as h,m as S,F as ae,q as le,at as s,W as f,N as p,X as l,a2 as o,O as m,_ as oe,M as C,a1 as E,af as I,U as se,$ as b,a0 as w,u as ne,P as ce}from"./CNHhKriD.js";import"./Ck70_2Af.js";const ue={class:"header-left"},de={class:"header-right"},ie={class:"tabs"},N="dashboard_theme",T="aside_collapse",A="route_tabs",re=te({__name:"default",setup(pe){const d=G(),v=Q(),_=h(d.path),r=h(!1),c=h(!1),B=S(()=>c.value?"64px":"200px"),V=S(()=>{const t=d.matched.filter(a=>a.path&&a.path!=="/").map(a=>({title:a.meta?.title||a.name||"未命名",to:a.path!==d.path?a.path:void 0}));return t.length?t:[{title:"首页",to:"/home"}]}),g=e=>{typeof document<"u"&&document.documentElement.setAttribute("data-theme",e?"dark":"light")};ae(()=>{const e=localStorage.getItem(N);r.value=e?e==="dark":!1,g(r.value);const t=localStorage.getItem(T);if(c.value=t?t==="1":!1,typeof window<"u"){const a=window.matchMedia("(max-width: 992px)"),i=()=>{a.matches&&(c.value=!0)};i(),a.addEventListener?.("change",i)}O(),x(d)});const D=()=>{r.value=!r.value,localStorage.setItem(N,r.value?"dark":"light"),g(r.value)},L=()=>{c.value=!c.value,localStorage.setItem(T,c.value?"1":"0")},M=()=>v.push("/home"),u=h([]),x=e=>{const t=e.meta?.title||e.name||e.path;u.value.find(a=>a.path===e.path)||(u.value.push({path:e.path,title:t}),k()),_.value=e.path},k=()=>{try{sessionStorage.setItem(A,JSON.stringify(u.value))}catch{}},O=()=>{try{const e=sessionStorage.getItem(A);e&&(u.value=JSON.parse(e))}catch{}};le(()=>d.path,()=>x(d));const P=e=>{e?.paneName&&e.paneName!==d.path&&v.push(e.paneName)},F=e=>{const t=u.value.findIndex(a=>a.path===e);if(t>=0){const a=e===d.path;if(u.value.splice(t,1),k(),a){const i=u.value[t]||u.value[t-1]||{path:"/home"};v.push(i.path)}}};return(e,t)=>{const a=s("el-icon"),i=s("el-button"),K=s("el-breadcrumb-item"),R=s("el-breadcrumb"),Y=s("el-divider"),q=s("el-header"),H=s("el-menu-item"),J=s("el-menu"),U=s("el-scrollbar"),W=s("el-aside"),$=s("el-tab-pane"),z=s("el-tabs"),X=s("el-main"),y=s("el-container");return p(),f(y,{class:"app-layout"},{default:l(()=>[o(q,{class:"app-header",height:"56px"},{default:l(()=>[m("div",ue,[o(i,{text:"",circle:"",class:"collapse-btn",onClick:L,title:c.value?"展开侧边栏":"折叠侧边栏"},{default:l(()=>[o(a,null,{default:l(()=>[(p(),f(oe(c.value?"Expand":"Fold")))]),_:1})]),_:1},8,["title"]),t[1]||(t[1]=m("div",{class:"brand"},"Nuxt Admin",-1)),o(R,{separator:"/"},{default:l(()=>[(p(!0),C(E,null,I(V.value,(n,j)=>(p(),f(K,se({key:j,to:n.to},{ref_for:!0},n.to?{to:n.to}:{}),{default:l(()=>[b(w(n.title),1)]),_:2},1040,["to"]))),128))]),_:1})]),m("div",de,[o(i,{link:"",onClick:D},{default:l(()=>[b(w(r.value?"暗色":"明亮"),1)]),_:1}),o(Y,{direction:"vertical"}),o(i,{link:"",onClick:M},{default:l(()=>[...t[2]||(t[2]=[b("仪表盘",-1)])]),_:1})])]),_:1}),o(y,{class:"app-body"},{default:l(()=>[o(W,{class:"app-aside",width:B.value},{default:l(()=>[o(U,null,{default:l(()=>[o(J,{"default-active":_.value,router:"",collapse:c.value},{default:l(()=>[o(H,{index:"/home"},{default:l(()=>[o(a,null,{default:l(()=>[o(ne(Z))]),_:1}),t[3]||(t[3]=m("span",null,"仪表盘",-1))]),_:1})]),_:1},8,["default-active","collapse"])]),_:1})]),_:1},8,["width"]),o(X,{class:"app-main"},{default:l(()=>[m("div",ie,[o(z,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=n=>_.value=n),type:"card",onTabClick:P,onTabRemove:F,closable:""},{default:l(()=>[(p(!0),C(E,null,I(u.value,n=>(p(),f($,{key:n.path,name:n.path,label:n.title,closable:n.path!=="/home"},null,8,["name","label","closable"]))),128))]),_:1},8,["modelValue"])]),ce(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})}}}),fe=ee(re,[["__scopeId","data-v-cd40486f"]]);export{fe as default};
