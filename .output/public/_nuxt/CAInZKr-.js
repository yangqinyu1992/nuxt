import{_ as D,E as R,n as ee}from"#entry";import{l as P,d as v,F as C,o as te,at as u,W as V,N as g,X as t,a2 as e,O as a,Q as B,M as T,u as ae,z as le,R as oe,q as se,m as c,a4 as ie,ay as ne,Y as re,$ as y,a0 as _,a1 as ue,af as ce}from"./CNHhKriD.js";import{_ as de,u as me}from"./CAK6LHbS.js";import"./Ck70_2Af.js";const pe={key:1,class:"chart-skeleton"},ve=P({__name:"ChartCard",props:{option:{},shadow:{default:"never"},rootMargin:{default:"100px"},height:{default:"320px"},lazy:{type:Boolean,default:!0}},setup(f){const x=f,o=v(null),m=v(!x.lazy);let d=null,i=0;return C(()=>{if(!x.lazy){m.value=!0;return}"IntersectionObserver"in window?(d=new IntersectionObserver(b=>{i&&cancelAnimationFrame(i),i=requestAnimationFrame(()=>{b.forEach(z=>{z.isIntersecting&&(m.value=!0,d?.disconnect())})})},{root:null,rootMargin:x.rootMargin,threshold:.01}),o.value&&d.observe(o.value)):m.value=!0}),te(()=>{d&&o.value&&d.unobserve(o.value),d=null,i&&cancelAnimationFrame(i)}),(b,z)=>{const E=u("el-skeleton"),F=de,I=u("el-card");return g(),V(I,{shadow:f.shadow,class:oe(["chart-card",{"is-loading":!m.value}]),style:B({height:f.height})},{default:t(()=>[e(F,null,{default:t(()=>[a("div",{ref_key:"holder",ref:o,class:"chart-holder",style:B({height:f.height})},[m.value?(g(),V(ae(le),{key:0,class:"chart",option:f.option,autoresize:""},null,8,["option"])):(g(),T("div",pe,[e(E,{rows:4,animated:""})]))],4)]),_:1})]),_:1},8,["shadow","class","style"])}}}),h=Object.assign(D(ve,[["__scopeId","data-v-a64004a4"]]),{__name:"ChartCard"}),fe={class:"header"},ye={class:"header-actions"},_e={class:"grid"},he={class:"grid-row"},ge={class:"stat"},xe={class:"label"},be={class:"trend"},Se={class:"grid-row"},we={class:"grid-row"},Ae={class:"grid-row"},Ce={class:"grid-row"},ze={class:"grid-row"},Le={class:"table-header"},U="dashboard_theme",ke=P({__name:"home",setup(f){const x=async()=>{const{error:s}=await me("/api/auth/logout",{method:"POST",server:!1},"$5viT2XL0Z0");if(s.value){R.error("退出失败，请重试");return}R.success("已退出登录"),ee("/login")},o=v(!1),m=s=>{typeof document<"u"&&document.documentElement.setAttribute("data-theme",s?"dark":"light")};C(()=>{const s=localStorage.getItem(U);o.value=s?s==="dark":!1,m(o.value)}),se(o,s=>{localStorage.setItem(U,s?"dark":"light"),m(s)}),c(()=>o.value?"暗色":"明亮");const d=v(!0);C(()=>{setTimeout(()=>d.value=!1,250)});const i=v(null),b=v(!1),z=async()=>{const s=i.value;s&&!document.fullscreenElement&&await s.requestFullscreen()},E=async()=>{document.fullscreenElement&&await document.exitFullscreen()},F=async()=>{document.fullscreenElement?await E():await z()};C(()=>{document.addEventListener("fullscreenchange",()=>{b.value=!!document.fullscreenElement})});const I=v([{title:"访问量",value:12890,trend:"+12.3%",color:"#4C6EF5"},{title:"注册用户",value:5230,trend:"+3.1%",color:"#20C997"},{title:"订单数",value:1876,trend:"-1.2%",color:"#FAB005"},{title:"转化率",value:"3.85%",trend:"+0.4%",color:"#FA5252"}]),l=c(()=>o.value?"#cfd3dc":"#606266"),p=c(()=>o.value?"#e5eaf3":"#303133"),L=c(()=>o.value?"#2B2F36":"#EBEEF5"),N=c(()=>({title:{text:"近七日访问趋势",left:"center",top:8,textStyle:{fontSize:14,color:p.value}},tooltip:{trigger:"axis"},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{},magicType:{type:["line","bar"]}}},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:40,right:20,top:50,bottom:30},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"],axisLine:{lineStyle:{color:l.value}},axisLabel:{color:l.value}},yAxis:{type:"value",splitLine:{lineStyle:{color:L.value}},axisLabel:{color:l.value}},series:[{name:"访问量",type:"line",smooth:!0,data:[1200,980,1500,1100,1660,1820,2010],areaStyle:{},itemStyle:{color:"#4C6EF5"}}]})),W=c(()=>({title:{text:"渠道占比",left:"center",top:8,textStyle:{fontSize:14,color:p.value}},tooltip:{trigger:"item"},legend:{bottom:0,textStyle:{color:l.value}},series:[{name:"占比",type:"pie",radius:["40%","70%"],center:["50%","48%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:6,borderColor:"#fff",borderWidth:2},label:{color:p.value},data:[{value:48,name:"官网"},{value:22,name:"小程序"},{value:18,name:"App"},{value:12,name:"第三方"}]}]})),$=c(()=>({title:{text:"品类销量",left:"center",top:8,textStyle:{fontSize:14,color:p.value}},tooltip:{trigger:"axis"},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{},magicType:{type:["line","bar"]}}},brush:{toolbox:["rect","clear"],xAxisIndex:"all"},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:40,right:20,top:50,bottom:30},xAxis:{type:"category",data:["家电","数码","美妆","服饰","食品","母婴"],axisLine:{lineStyle:{color:l.value}},axisLabel:{color:l.value}},yAxis:{type:"value",splitLine:{lineStyle:{color:L.value}},axisLabel:{color:l.value}},series:[{name:"销量",type:"bar",barWidth:18,data:[620,732,701,534,690,830],itemStyle:{color:"#20C997"}}]})),q=c(()=>({title:{text:"UV / PV 趋势（双轴）",left:"center",top:8,textStyle:{fontSize:14,color:p.value}},tooltip:{trigger:"axis"},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{}}},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:50,right:50,top:50,bottom:30},legend:{top:28,textStyle:{color:l.value}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:l.value}},axisLabel:{color:l.value}},yAxis:[{type:"value",name:"UV",position:"left",axisLabel:{color:l.value},splitLine:{lineStyle:{color:L.value}}},{type:"value",name:"PV",position:"right",axisLabel:{color:l.value}}],series:[{name:"UV",type:"line",smooth:!0,yAxisIndex:0,itemStyle:{color:"#36cfc9"},data:[320,402,391,434,590,630,710]},{name:"PV",type:"line",smooth:!0,yAxisIndex:1,itemStyle:{color:"#9254de"},data:[820,932,901,934,1290,1330,1520]}]})),K=c(()=>({title:{text:"渠道流量构成（堆叠）",left:"center",top:8,textStyle:{fontSize:14,color:p.value}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:28,textStyle:{color:l.value}},toolbox:{right:10,feature:{saveAsImage:{},dataZoom:{}}},brush:{toolbox:["rect","clear"],xAxisIndex:"all"},dataZoom:[{type:"inside"},{type:"slider"}],grid:{left:50,right:20,top:60,bottom:30},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月"],axisLine:{lineStyle:{color:l.value}},axisLabel:{color:l.value}},yAxis:{type:"value",splitLine:{lineStyle:{color:L.value}},axisLabel:{color:l.value}},series:[{name:"官网",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#409EFF"},data:[320,302,301,334,390,330]},{name:"App",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#67C23A"},data:[120,132,101,134,90,230]},{name:"小程序",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#E6A23C"},data:[220,182,191,234,290,330]},{name:"第三方",type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:"#F56C6C"},data:[150,212,201,154,190,120]}]})),X=c(()=>({title:{text:"转化漏斗",left:"center",top:8,textStyle:{fontSize:14,color:p.value}},tooltip:{trigger:"item",formatter:"{b}: {c}%"},series:[{name:"转化",type:"funnel",left:"10%",width:"80%",label:{color:p.value},data:[{value:100,name:"曝光"},{value:72,name:"访问"},{value:38,name:"加购"},{value:22,name:"下单"},{value:15,name:"支付"}]}]})),Z=v(0);let S=null;return C(()=>{if("ResizeObserver"in window&&i.value)S=new ResizeObserver(()=>{Z.value++}),S.observe(i.value);else{const s=()=>{Z.value++};window.addEventListener("resize",s)}}),ie(()=>{S&&i.value&&S.unobserve(i.value),S=null}),(s,n)=>{const Y=u("el-switch"),k=u("el-button"),j=u("el-divider"),M=u("el-card"),w=u("el-col"),O=u("el-row"),A=u("el-table-column"),G=u("el-tag"),H=u("el-table"),Q=ne("loading");return re((g(),T("div",{class:"dashboard",ref_key:"containerRef",ref:i},[a("div",fe,[n[3]||(n[3]=a("div",{class:"title"},[a("h2",null,"运营驾驶舱"),a("p",null,"核心业务指标总览 · 实时洞察")],-1)),a("div",ye,[e(Y,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=r=>o.value=r),"inline-prompt":"","active-text":"暗色","inactive-text":"明亮"},null,8,["modelValue"]),e(k,{onClick:F},{default:t(()=>[y(_(b.value?"退出全屏":"全屏展示"),1)]),_:1}),e(j,{direction:"vertical"}),e(k,{onClick:x},{default:t(()=>[...n[1]||(n[1]=[y("退出登录",-1)])]),_:1}),e(k,{type:"primary"},{default:t(()=>[...n[2]||(n[2]=[y("刷新数据",-1)])]),_:1})])]),a("div",_e,[a("div",he,[e(O,{gutter:12},{default:t(()=>[(g(!0),T(ue,null,ce(I.value,(r,J)=>(g(),V(w,{xs:12,sm:12,md:6,key:J},{default:t(()=>[e(M,{shadow:"hover",class:"stat-card"},{default:t(()=>[a("div",ge,[a("div",xe,_(r.title),1),a("div",{class:"value",style:B({color:r.color})},_(r.value),5),a("div",be,_(r.trend),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),a("div",Se,[e(O,{gutter:12},{default:t(()=>[e(w,{xs:24,md:16},{default:t(()=>[e(h,{option:N.value,height:"320px",lazy:!1},null,8,["option"])]),_:1}),e(w,{xs:24,md:8},{default:t(()=>[e(h,{option:W.value,height:"320px",lazy:!1},null,8,["option"])]),_:1})]),_:1})]),a("div",we,[e(h,{option:q.value,height:"340px",lazy:!1},null,8,["option"])]),a("div",Ae,[e(h,{option:X.value,height:"340px",lazy:!1},null,8,["option"])]),a("div",Ce,[e(O,{gutter:12},{default:t(()=>[e(w,{xs:24,md:14},{default:t(()=>[e(h,{option:K.value,height:"340px",lazy:!1},null,8,["option"])]),_:1}),e(w,{xs:24,md:10},{default:t(()=>[e(h,{option:$.value,height:"340px",lazy:!1},null,8,["option"])]),_:1})]),_:1})]),a("div",ze,[e(M,{shadow:"never"},{header:t(()=>[a("div",Le,[n[5]||(n[5]=a("span",null,"最新订单",-1)),e(k,{link:"",type:"primary"},{default:t(()=>[...n[4]||(n[4]=[y("查看全部",-1)])]),_:1})])]),default:t(()=>[e(H,{size:"small",border:"",data:[{id:"A20251016001",user:"Alice",amount:1299,status:"已支付",time:"09:12"},{id:"A20251016002",user:"Bob",amount:289,status:"已发货",time:"09:18"},{id:"A20251016003",user:"Cindy",amount:569,status:"待支付",time:"09:22"},{id:"A20251016004",user:"David",amount:78,status:"已完成",time:"09:31"},{id:"A20251016005",user:"Eve",amount:2199,status:"已完成",time:"09:34"}]},{default:t(()=>[e(A,{prop:"id",label:"订单号","min-width":"160"}),e(A,{prop:"user",label:"用户","min-width":"100"}),e(A,{prop:"amount",label:"金额","min-width":"80"},{default:t(({row:r})=>[y("¥ "+_(r.amount),1)]),_:1}),e(A,{prop:"status",label:"状态","min-width":"90"},{default:t(({row:r})=>[e(G,{type:r.status.includes("待")?"warning":r.status.includes("发")?"info":"success"},{default:t(()=>[y(_(r.status),1)]),_:2},1032,["type"])]),_:1}),e(A,{prop:"time",label:"时间","min-width":"80"})]),_:1})]),_:1})])])])),[[Q,d.value]])}}}),Ve=D(ke,[["__scopeId","data-v-20dbbaf6"]]);export{Ve as default};
